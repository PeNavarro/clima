(this.webpackJsonpclima=this.webpackJsonpclima||[]).push([[0],{56:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),o=a(19),r=a.n(o),i=a(23),s=a.n(i),l=a(37),d=a(20),j=(a(56),a(57),a(41)),u=a(33),b=a(45),h=a(49),m=a(28),x=a(44),O=a(40),p=a(15),f=a(38),g=a(50),v=a(39),w=a(24),y=a(48),N=a(47),C=a(5);var k=function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),a=t[0],n=t[1],o=Object(c.useState)(null),r=Object(d.a)(o,2),i=r[0],k=r[1],z=Object(c.useState)(!1),A=Object(d.a)(z,2),S=A[0],I=A[1],P=Object(c.useState)(null),q=Object(d.a)(P,2),B=q[0],F=q[1],M=Object(c.useState)(null),E=Object(d.a)(M,2),H=E[0],J=E[1];function L(){return(L=Object(l.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),"3c70b9abaf6ac12c52fedc25a7814d34",a="http://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&lang=pt&units=metric&appid=").concat("3c70b9abaf6ac12c52fedc25a7814d34"),e.next=5,fetch(a).then((function(e){return e.json()})).then((function(e){switch(e.cod){case"401":F("A API key informada \xe9 inv\xe1lida"),k(null);break;case"404":F("A cidade inserida n\xe3o foi encontrada"),k(null),n("");break;case"429":F("O uso gratuito da API foi excedido (60 chamadas por minuto)"),k(null);break;default:k(e)}})).catch((function(e){console.error("Houve um erro ao consultar a API: ".concat(e.message))}));case 5:I(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){var e="8f09ab6386434007a47481df99897949";function t(){return(t=Object(l.a)(s.a.mark((function t(a,c){var o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="https://api.opencagedata.com/geocode/v1/json?q=".concat(a,"+").concat(c,"&key=").concat(e),t.next=3,fetch(o).then((function(e){return e.json()})).then((function(e){n(e.results[0].components.city+", "+e.results[0].components.country)})).catch((function(e){console.error("N\xe3o foi poss\xedvel buscar a cidade a partir da lat/long. Erro ".concat(e.message))}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}"geolocation"in navigator&&navigator.geolocation.getCurrentPosition((function(e){!function(e,a){t.apply(this,arguments)}(e.coords.latitude,e.coords.longitude)}),(function(e){console.error(e),J(e.code)}))}),[]),Object(C.jsxs)(C.Fragment,{children:[" ",Object(C.jsxs)(j.a,{bg:"secondary",children:[Object(C.jsx)(j.a.Brand,{href:"#inicio",className:"text-white",children:"FateClima"}),Object(C.jsxs)(u.a,{className:"mr-auto",children:[Object(C.jsx)(u.a.Link,{className:"text-white",href:"#inicio",children:"In\xedcio"}),Object(C.jsx)(u.a.Link,{className:"text-white",href:"contato",children:"Contato"})]}),Object(C.jsxs)(h.a,{inline:!0,children:[Object(C.jsx)(m.a,{type:"text",value:a,placeholder:"Informe a cidade...",onChange:function(e){return n(e.target.value)}}),"\xa0",Object(C.jsxs)(x.a,{onClick:function(){!function(e){L.apply(this,arguments)}(a)},disabled:a.length<3,children:[" ",S?Object(C.jsx)(f.a,{size:"sm",animation:"border"}):Object(C.jsx)(w.d,{size:"25"}),"\xa0Obter Clima"]})]})]}),Object(C.jsxs)(b.a,{children:[Object(C.jsx)(w.c,{size:"35"}),Object(C.jsx)("h1",{children:"FateClima"}),Object(C.jsxs)("p",{children:["Consulte o clima de qualquer cidade do mundo!",Object(C.jsx)("br",{}),Object(C.jsx)("p",{className:"text-italic",children:"App desenvolvido em ReactJS e integrado a API OpenWeatherMap."})]})]}),H&&Object(C.jsx)("div",{className:"d-flex justify-content-center",children:Object(C.jsxs)(v.a,{variant:"danger",onClose:function(){return J(null)},dismissible:!0,children:[Object(C.jsx)(v.a.Heading,{children:"Ops! Ocorreu um erro ao obter sua localiza\xe7\xe3o."}),Object(C.jsx)("p",{children:[{"C\xf3digo":1,texto:"Permis\xe3o de localiza\xe7\xe3o negada"},{"C\xf3digo":2,texto:"N\xe3o foi poss\xedvel obter a localiza\xe7\xe3o"},{"C\xf3digo":3,texto:"O tempo de espera para obter a localiza\xe7\xe3o foi expirado!"}][H].texto})]})}),B&&Object(C.jsx)("div",{className:"d-flex justify-content-center",children:Object(C.jsxs)(g.a,{onClose:function(){return F(null)},delay:4e3,autohide:!0,children:[Object(C.jsxs)(y.a,{children:[Object(C.jsx)("strong",{className:"mr-auto",children:B}),Object(C.jsx)("small",{className:"mr-auto",children:"\ud83d\ude44"})]}),Object(C.jsx)(N.a,{className:"text-danger",children:"Por favor, fa\xe7a uma nova busca."})]})}),S&&Object(C.jsx)(O.a,{className:"justify-content-center",children:Object(C.jsx)(f.a,{animation:"border",variant:"primary"})}),Object(C.jsx)(O.a,{className:"justify-content-center",children:i&&Object(C.jsxs)(p.a,{bg:"secondary",className:"text-center text-white",children:[Object(C.jsxs)(p.a.Header,{children:[Object(C.jsx)("h2",{children:i.name}),Object(C.jsxs)("h3",{children:[i.main.temp,"\u2103"]}),Object(C.jsxs)("h5",{children:[Object(C.jsx)(w.a,{}),"Min: ",i.main.temp_min,"\u2103 \xa0\xa0\xa0 ",Object(C.jsx)(w.b,{}),"M\xe1x: ",i.main.temp_max,"\u2103"]})]}),Object(C.jsxs)(p.a.Body,{children:[Object(C.jsx)(p.a.Img,{src:"http://openweathermap.org/img/wn/".concat(i.weather[0].icon,"@2x.png"),title:i.weather[0].description}),Object(C.jsx)(p.a.Title,{children:i.weather[0].description})]}),Object(C.jsxs)(p.a.Footer,{children:["Atualizado em: ",new Date(1e3*i.dt).toLocaleString("pt-BR",{timezone:"America/Sao_Paulo"})]})]})})]})};r.a.render(Object(C.jsx)(n.a.StrictMode,{children:Object(C.jsx)(k,{})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.3851b793.chunk.js.map